[gd_scene load_steps=13 format=3 uid="uid://cvsnk8nifuxm2"]

[ext_resource type="Script" uid="uid://bboyq3btxjcad" path="res://system/generation/level_room_prefab.gd" id="1_8m7sy"]
[ext_resource type="Script" uid="uid://ntkhnwdxsq5b" path="res://system/generation/level_room_prefab_entrance.gd" id="2_r41rg"]
[ext_resource type="Script" uid="uid://kdixd6vxiddp" path="res://system/debug/level_room_grid_viz.gd" id="3_1hrjq"]
[ext_resource type="Material" uid="uid://khh6k54woa1a" path="res://world/materials/stone_wall_mat.tres" id="4_8oj8v"]
[ext_resource type="Shader" uid="uid://wxqedj3s6mld" path="res://vfx/shaders/depth_fog_plane.gdshader" id="5_2mfna"]
[ext_resource type="PackedScene" uid="uid://dkvlyhno4cx23" path="res://world/props/scenes/pillar_square.tscn" id="6_4qduk"]
[ext_resource type="PackedScene" uid="uid://brhb85u6e8n26" path="res://world/props/models/arch.glb" id="7_2lj4n"]
[ext_resource type="PackedScene" uid="uid://bdst4tv46kcy2" path="res://world/props/scenes/brazier.tscn" id="8_ydlmi"]

[sub_resource type="Resource" id="Resource_clo8p"]
script = ExtResource("2_r41rg")
position = Vector3i(-1, 0, 1)
closed = NodePath("EntranceLeft/Wall")
open = NodePath("")
metadata/_custom_type_script = "uid://ntkhnwdxsq5b"

[sub_resource type="Resource" id="Resource_nh8nr"]
script = ExtResource("2_r41rg")
position = Vector3i(5, 0, 1)
closed = NodePath("EntranceRight/Wall")
open = NodePath("")
metadata/_custom_type_script = "uid://ntkhnwdxsq5b"

[sub_resource type="QuadMesh" id="QuadMesh_1t3pk"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_nri5q"]
render_priority = 0
shader = ExtResource("5_2mfna")
shader_parameter/primary_color = Color(0, 0, 0, 1)
shader_parameter/depth_distance = 5.0

[node name="RoomLongBridge" type="Node3D"]
script = ExtResource("1_8m7sy")
entrances = Array[ExtResource("2_r41rg")]([SubResource("Resource_clo8p"), SubResource("Resource_nh8nr")])

[node name="LevelRoomGridViz" type="Node" parent="."]
script = ExtResource("3_1hrjq")
dimensions = Vector3i(5, 1, 3)
metadata/_custom_type_script = "uid://kdixd6vxiddp"

[node name="CSGBox3D" type="CSGBox3D" parent="."]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 0, -7, 0)
material_override = ExtResource("4_8oj8v")
use_collision = true
size = Vector3(25, 0.5, 15)

[node name="CSGBox3D3" type="CSGBox3D" parent="."]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, -0.0419922, 0, 0)
material_override = ExtResource("4_8oj8v")
use_collision = true
size = Vector3(25.3799, 0.5, 5)

[node name="Wall" type="CSGBox3D" parent="."]
transform = Transform3D(2, 0, 0, 0, -8.74228e-08, 2, 0, -2, -8.74228e-08, 0, 1.567, -15)
material_override = ExtResource("4_8oj8v")
use_collision = true
size = Vector3(25, 0.5, 8.56653)

[node name="Wall2" type="CSGBox3D" parent="."]
transform = Transform3D(2, 0, 0, 0, -8.74228e-08, 2, 0, -2, -8.74228e-08, 0, 1.567, 15)
material_override = ExtResource("4_8oj8v")
use_collision = true
size = Vector3(25, 0.5, 8.56653)

[node name="Wall5" type="CSGBox3D" parent="."]
transform = Transform3D(-8.74228e-08, -2, 0, -8.74228e-08, 0, 2, -2, 8.74228e-08, -8.74228e-08, 25.5, 5.38682, -9)
material_override = ExtResource("4_8oj8v")
use_collision = true
size = Vector3(6, 0.5, 5.18018)

[node name="Wall8" type="CSGBox3D" parent="."]
transform = Transform3D(-8.74228e-08, -2, 0, -8.74228e-08, 0, 2, -2, 8.74228e-08, -8.74228e-08, 25.5, -3.05711, 1.33631e-07)
material_override = ExtResource("4_8oj8v")
use_collision = true
size = Vector3(15, 0.5, 3.50989)

[node name="Wall9" type="CSGBox3D" parent="."]
transform = Transform3D(-8.74228e-08, -2, 0, -8.74228e-08, 0, 2, -2, 8.74228e-08, -8.74228e-08, 25.5, 5.38683, 9)
material_override = ExtResource("4_8oj8v")
use_collision = true
size = Vector3(6, 0.5, 5.18018)

[node name="Wall6" type="CSGBox3D" parent="."]
transform = Transform3D(-8.74228e-08, -2, 0, -8.74228e-08, 0, 2, -2, 8.74228e-08, -8.74228e-08, -25.5, 5.38682, -9)
material_override = ExtResource("4_8oj8v")
use_collision = true
size = Vector3(6, 0.5, 5.18018)

[node name="Wall10" type="CSGBox3D" parent="."]
transform = Transform3D(-8.74228e-08, -2, 0, -8.74228e-08, 0, 2, -2, 8.74228e-08, -8.74228e-08, -25.5, -3.05711, 1.33631e-07)
material_override = ExtResource("4_8oj8v")
use_collision = true
size = Vector3(15, 0.5, 3.50989)

[node name="Wall11" type="CSGBox3D" parent="."]
transform = Transform3D(-8.74228e-08, -2, 0, -8.74228e-08, 0, 2, -2, 8.74228e-08, -8.74228e-08, -25.5, 5.38683, 9)
material_override = ExtResource("4_8oj8v")
use_collision = true
size = Vector3(6, 0.5, 5.18018)

[node name="CSGBox3D2" type="CSGBox3D" parent="."]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 9.70264, 0)
material_override = ExtResource("4_8oj8v")
use_collision = true
size = Vector3(25, 0.202637, 15)

[node name="Fog" type="MeshInstance3D" parent="."]
transform = Transform3D(50, 0, 0, 0, -1.31134e-06, 1, 0, -30, -4.37114e-08, 0.313168, -1.51723, -0.261821)
mesh = SubResource("QuadMesh_1t3pk")
surface_material_override/0 = SubResource("ShaderMaterial_nri5q")

[node name="EntranceLeft" type="Node3D" parent="."]
transform = Transform3D(1.57361e-07, 0, 1.2, 0, 1, 0, -1.2, 0, 1.57361e-07, -25.994, 0, 0)

[node name="Wall" type="CSGBox3D" parent="EntranceLeft"]
transform = Transform3D(1.91069e-15, -4.37114e-08, 1, -1, -4.37114e-08, 0, 4.37114e-08, -1, -4.37114e-08, 0, 3.5, 0.262781)
material_override = ExtResource("4_8oj8v")
use_collision = true
size = Vector3(7, 0.5, 5)

[node name="Wall2" type="CSGBox3D" parent="EntranceLeft"]
transform = Transform3D(1.9108e-15, -4.37128e-08, 1.20513, -1, -4.37114e-08, 0, 4.37114e-08, -1, -5.26797e-08, -0.0182495, 8.65039, 0.792635)
material_override = ExtResource("4_8oj8v")
use_collision = true
size = Vector3(3.30078, 1.55969, 5.9967)

[node name="pillar_square" parent="EntranceLeft" instance=ExtResource("6_4qduk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.05903, 0.150508, 1.06071)

[node name="Cube" parent="EntranceLeft/pillar_square" index="0"]
surface_material_override/0 = ExtResource("4_8oj8v")

[node name="pillar_square2" parent="EntranceLeft" instance=ExtResource("6_4qduk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.059, 0.151, 1.061)

[node name="Cube" parent="EntranceLeft/pillar_square2" index="0"]
surface_material_override/0 = ExtResource("4_8oj8v")

[node name="arch" parent="EntranceLeft" instance=ExtResource("7_2lj4n")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 0.584309, -0.0171971, 7.28393, 1.26853)

[node name="Cube" parent="EntranceLeft/arch" index="0"]
transform = Transform3D(1, 0, 0, 0, 2.20399, 0, 0, 0, 1, 0, -1.22466, -0.437432)
surface_material_override/0 = ExtResource("4_8oj8v")

[node name="EntranceRight" type="Node3D" parent="."]
transform = Transform3D(-5.24537e-08, 0, -1.2, 0, 1, 0, 1.2, 0, -5.24537e-08, 26.006, 0, 0)

[node name="Wall" type="CSGBox3D" parent="EntranceRight"]
transform = Transform3D(1.91069e-15, -4.37114e-08, 1, -1, -4.37114e-08, 0, 4.37114e-08, -1, -4.37114e-08, 0, 3.5, 0.262781)
material_override = ExtResource("4_8oj8v")
use_collision = true
size = Vector3(7, 0.5, 5)

[node name="Wall2" type="CSGBox3D" parent="EntranceRight"]
transform = Transform3D(1.9108e-15, -4.37128e-08, 1.20513, -1, -4.37114e-08, 0, 4.37114e-08, -1, -5.26797e-08, -0.0182495, 8.65039, 0.792635)
material_override = ExtResource("4_8oj8v")
use_collision = true
size = Vector3(3.30078, 1.55969, 5.9967)

[node name="pillar_square" parent="EntranceRight" instance=ExtResource("6_4qduk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.05903, 0.150508, 1.06071)

[node name="Cube" parent="EntranceRight/pillar_square" index="0"]
surface_material_override/0 = ExtResource("4_8oj8v")

[node name="pillar_square2" parent="EntranceRight" instance=ExtResource("6_4qduk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.059, 0.151, 1.061)

[node name="Cube" parent="EntranceRight/pillar_square2" index="0"]
surface_material_override/0 = ExtResource("4_8oj8v")

[node name="arch" parent="EntranceRight" instance=ExtResource("7_2lj4n")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 0.584309, -0.0171971, 7.28393, 1.26853)

[node name="Cube" parent="EntranceRight/arch" index="0"]
transform = Transform3D(1, 0, 0, 0, 2.20399, 0, 0, 0, 1, 0, -1.22466, -0.437432)
surface_material_override/0 = ExtResource("4_8oj8v")

[node name="pillar_square" parent="." instance=ExtResource("6_4qduk")]
transform = Transform3D(1.8569, 0, 0, 0, 1.8569, 0, 0, 0, 1.8569, -9.61689, -9.03687, -11.159)

[node name="brazier" parent="pillar_square" instance=ExtResource("8_ydlmi")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 7.00017, 0)

[node name="Cube" parent="pillar_square" index="1"]
surface_material_override/0 = ExtResource("4_8oj8v")

[node name="pillar_square2" parent="." instance=ExtResource("6_4qduk")]
transform = Transform3D(1.8569, 0, 0, 0, 1.8569, 0, 0, 0, 1.8569, 8.81762, -11.1697, 9.89102)

[node name="brazier" parent="pillar_square2" instance=ExtResource("8_ydlmi")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 7.00017, 0)

[node name="Cube" parent="pillar_square2" index="1"]
surface_material_override/0 = ExtResource("4_8oj8v")

[node name="pillar_square3" parent="." instance=ExtResource("6_4qduk")]
transform = Transform3D(2.46366, 0, 0, 0, 1.8569, 0, 0, 0, 2.46366, -12.672, -8.37855, 8.91686)

[node name="Cube" parent="pillar_square3" index="0"]
surface_material_override/0 = ExtResource("4_8oj8v")

[node name="pillar_square4" parent="." instance=ExtResource("6_4qduk")]
transform = Transform3D(1.43486, 0, 0, 0, 1.08148, 0, 0, 0, 1.43486, 12.6406, -6.09368, -9.33242)

[node name="Cube" parent="pillar_square4" index="0"]
surface_material_override/0 = ExtResource("4_8oj8v")

[editable path="EntranceLeft/pillar_square"]
[editable path="EntranceLeft/pillar_square2"]
[editable path="EntranceLeft/arch"]
[editable path="EntranceRight/pillar_square"]
[editable path="EntranceRight/pillar_square2"]
[editable path="EntranceRight/arch"]
[editable path="pillar_square"]
[editable path="pillar_square2"]
[editable path="pillar_square3"]
[editable path="pillar_square4"]
